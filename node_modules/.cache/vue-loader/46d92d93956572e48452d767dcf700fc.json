{"remainingRequest":"D:\\project\\daily\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\daily\\src\\components\\User\\newTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\daily\\src\\components\\User\\newTable.vue","mtime":1592480877004},{"path":"D:\\project\\daily\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\daily\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\project\\daily\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\daily\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNlbGVjdGVkSXRlbXM6ICIiLA0KICAgICAgY2hlY2tNb2RhbDogZmFsc2UsDQogICAgICBub3dDb250ZW50OiAiIiwNCiAgICAgIGNyZWF0ZU1vZGFsOiBmYWxzZSwNCiAgICAgIGNvbnRlbnQ6ICIiLA0KICAgICAgbW9kaWZ5TW9kYWw6IGZhbHNlLA0KICAgICAgY29sdW1uczQ6IFsNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJzZWxlY3Rpb24iLA0KICAgICAgICAgIHdpZHRoOiA2MCwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuS6i+S7tiIsDQogICAgICAgICAga2V5OiAiY29udGVudCIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuaXtumXtCIsDQogICAgICAgICAga2V5OiAidGltZSIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgYWxsTGlzdDogW10sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNyZWF0ZU9rKCkgew0KICAgICAgLy8g5oqK5paw6aG55re75Yqg5YiwYWxsTGlzdOmHjA0KICAgICAgY29uc3QgbGlzdCA9IHsNCiAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoMzYpLA0KICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQsDQogICAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKSwNCiAgICAgIH07DQogICAgICB0aGlzLmFsbExpc3QgPSBbLi4udGhpcy5hbGxMaXN0LCBsaXN0XTsNCiAgICAgIHRoaXMuY29udGVudCA9ICIiOw0KICAgICAgdGhpcy5zYXZlQ29udGVudCgpOw0KICAgIH0sDQogICAgY3JlYXRlQnRuKCkgew0KICAgICAgdGhpcy5jcmVhdGVNb2RhbCA9IHRydWU7DQogICAgfSwNCiAgICBvaygpIHsNCiAgICAgIHRoaXMuJE1lc3NhZ2UuaW5mbygiQ2xpY2tlZCBvayIpOw0KICAgIH0sDQoNCiAgICBjYW5jZWwoKSB7DQogICAgICB0aGlzLiRNZXNzYWdlLmluZm8oIkNsaWNrZWQgY2FuY2VsIik7DQogICAgfSwNCiAgICBnZXRSb3coc2VsZWN0aW9uLCByb3cpIHsNCiAgICAgIHRoaXMubm93SWQgPSByb3cuaWQ7DQogICAgICB0aGlzLm5vd0NvbnRlbnQgPSByb3cuY29udGVudDsNCiAgICAgIHRoaXMuY29udGVudCA9ICIiOw0KDQogICAgICB0aGlzLnNhdmVDb250ZW50KCk7DQogICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBzZWxlY3Rpb247DQogICAgfSwNCiAgICBjYW5jZWxTZWxlY3Qoc2VsZWN0aW9uKSB7DQogICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBzZWxlY3Rpb247DQogICAgfSwNCiAgICBzZWxlY3RBbGwoc2VsZWN0aW9uKSB7DQogICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBzZWxlY3Rpb247DQogICAgfSwNCiAgICBmaW5kQ29udGVudChjb24pIHsNCiAgICAgIHJldHVybiBjb24uaWQgPT09IHRoaXMubm93SWQ7DQogICAgfSwNCg0KICAgIG1vZGlmeU9rKCkgew0KICAgICAgdGhpcy5vbGQgPSB0aGlzLmFsbExpc3QuZmluZCh0aGlzLmZpbmRDb250ZW50KTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMub2xkKTsNCiAgICAgIHRoaXMub2xkLmNvbnRlbnQgPSB0aGlzLm5vd0NvbnRlbnQ7DQogICAgICB0aGlzLm9sZC50aW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpOw0KDQogICAgICB0aGlzLm5vd0NvbnRlbnQgPSBudWxsOw0KICAgICAgdGhpcy5ub3dJZCA9IG51bGw7DQogICAgICAvL3RoaXMuY29udGVudCA9ICIiOw0KICAgICAgdGhpcy5ub3dDb250ZW50ID0gIiI7DQoNCiAgICAgIHRoaXMuc2F2ZUNvbnRlbnQoKTsNCiAgICB9LA0KDQogICAgZGVsZXRlQ29uZmlybSgpIHsNCiAgICAgIC8vZGVidWdnZXI7DQogICAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIHRoaXMubW9kaWZ5TW9kYWwgPSBmYWxzZTsNCiAgICAgICAgYWxlcnQoIuivt+WLvumAieaDs+imgeWIoOmZpOeahOS6i+S7tu+8gSIpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgICAgdGl0bGU6ICLnoa7orqTliKDpmaTpgInkuK3lhoXlrrnlkJfvvJ8iLA0KICAgICAgICAgIG9uT2s6ICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuaW5mbygi5bey5Yig6ZmkIik7DQogICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSB0aGlzLnNlbGVjdGVkSXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLmlkKTsNCiAgICAgICAgICAgIHRoaXMuYWxsTGlzdCA9IHRoaXMuYWxsTGlzdC5maWx0ZXIoDQogICAgICAgICAgICAgIChpdGVtKSA9PiAhc2VsZWN0ZWRJZHMuaW5jbHVkZXMoaXRlbS5pZCkNCiAgICAgICAgICAgICk7DQoNCiAgICAgICAgICAgIHRoaXMuc2F2ZUNvbnRlbnQoKTsNCiAgICAgICAgICB9LA0KICAgICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmluZm8oIuWPlua2iOaTjeS9nCIpOw0KICAgICAgICAgIH0sDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2F2ZUNvbnRlbnQoKSB7DQogICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmFsbExpc3QpOw0KICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImFsbExpc3QiLCBwYXJzZWQpOw0KICAgIH0sDQoNCiAgICBjaGVja0NvbnRlbnQoY29udGVudDEpIHsNCiAgICAgIHRoaXMuY2hlY2tNb2RhbCA9IHRydWU7DQogICAgICB0aGlzLm5vd0NvbnRlbnQgPSBjb250ZW50MS5jb250ZW50Ow0KICAgIH0sDQogICAgbW9kaWZ5QnRuKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZEl0ZW1zKTsNCiAgICAgIHRoaXMubm93SW5kZXggPSB0aGlzLmFsbExpc3QuZmluZEluZGV4KHRoaXMuZmluZENvbnRlbnQpOw0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGggPT0gMCkgew0KICAgICAgICB0aGlzLm1vZGlmeU1vZGFsID0gZmFsc2U7DQogICAgICAgIGFsZXJ0KCLor7fli77pgInmg7PopoHkv67mlLnnmoTorrDlvZXvvIEiKTsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgdGhpcy5tb2RpZnlNb2RhbCA9IGZhbHNlOw0KICAgICAgICBhbGVydCgi5LiA5qyh5Y+q6IO95L+u5pS55LiA5p2h6K6w5b2V77yBIik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm1vZGlmeU1vZGFsID0gdHJ1ZTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWxsTGlzdCIpKSB7DQogICAgICB0cnkgew0KICAgICAgICB0aGlzLmFsbExpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhbGxMaXN0IikpOw0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiYWxsTGlzdCIpOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCn07DQo="},{"version":3,"sources":["newTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newTable.vue","sourceRoot":"src/components/User","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 新建的弹窗-->\r\n    <Button type=\"primary\" @click=\"createBtn\" class=\"btns\">新建</Button>\r\n    <Modal\r\n      v-model=\"createModal\"\r\n      title=\"新建\"\r\n      @on-ok=\"createOk\"\r\n      @on-cancel=\"cancel\"\r\n    >\r\n      <!-- 新建输入框 -->\r\n      <Input\r\n        v-model=\"content\"\r\n        type=\"textarea\"\r\n        :rows=\"4\"\r\n        placeholder=\"输入你想记录的事...\"\r\n      />\r\n    </Modal>\r\n\r\n    <!-- 修改的弹窗 -->\r\n    <Button @click=\"modifyBtn\" type=\"primary\" class=\"btns\">修改</Button>\r\n    <Modal\r\n      title=\"修改\"\r\n      v-model=\"modifyModal\"\r\n      :mask-closable=\"false\"\r\n      @on-ok=\"modifyOk\"\r\n    >\r\n      <!-- 修改输入框 -->\r\n      <Input v-model=\"nowContent\" :rows=\"4\" type=\"textarea\" />\r\n    </Modal>\r\n\r\n    <!-- 删除按钮 -->\r\n    <Button @click=\"deleteConfirm\" type=\"primary\" class=\"btns\">删除</Button>\r\n\r\n    <!-- 表格区域 -->\r\n    <Table\r\n      border\r\n      stripe\r\n      ref=\"selection\"\r\n      :columns=\"columns4\"\r\n      :data=\"allList\"\r\n      onselect\r\n      @on-select=\"getRow\"\r\n      @on-select-cancel=\"cancelSelect\"\r\n      @on-row-click=\"checkContent\"\r\n      @on-select-all=\"selectAll\"\r\n      class=\"tab\"\r\n    ></Table>\r\n\r\n    <!-- 查看的弹窗 -->\r\n\r\n    <Modal v-model=\"checkModal\" title=\"查看\" @on-ok=\"ok\" @on-cancel=\"cancel\">\r\n      <Input v-model=\"nowContent\" :rows=\"4\" type=\"textarea\" />\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedItems: \"\",\r\n      checkModal: false,\r\n      nowContent: \"\",\r\n      createModal: false,\r\n      content: \"\",\r\n      modifyModal: false,\r\n      columns4: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"事件\",\r\n          key: \"content\",\r\n        },\r\n        {\r\n          title: \"时间\",\r\n          key: \"time\",\r\n        },\r\n      ],\r\n      allList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    createOk() {\r\n      // 把新项添加到allList里\r\n      const list = {\r\n        id: Date.now().toString(36),\r\n        content: this.content,\r\n        time: new Date().toLocaleString(),\r\n      };\r\n      this.allList = [...this.allList, list];\r\n      this.content = \"\";\r\n      this.saveContent();\r\n    },\r\n    createBtn() {\r\n      this.createModal = true;\r\n    },\r\n    ok() {\r\n      this.$Message.info(\"Clicked ok\");\r\n    },\r\n\r\n    cancel() {\r\n      this.$Message.info(\"Clicked cancel\");\r\n    },\r\n    getRow(selection, row) {\r\n      this.nowId = row.id;\r\n      this.nowContent = row.content;\r\n      this.content = \"\";\r\n\r\n      this.saveContent();\r\n      this.selectedItems = selection;\r\n    },\r\n    cancelSelect(selection) {\r\n      this.selectedItems = selection;\r\n    },\r\n    selectAll(selection) {\r\n      this.selectedItems = selection;\r\n    },\r\n    findContent(con) {\r\n      return con.id === this.nowId;\r\n    },\r\n\r\n    modifyOk() {\r\n      this.old = this.allList.find(this.findContent);\r\n      console.log(this.old);\r\n      this.old.content = this.nowContent;\r\n      this.old.time = new Date().toLocaleString();\r\n\r\n      this.nowContent = null;\r\n      this.nowId = null;\r\n      //this.content = \"\";\r\n      this.nowContent = \"\";\r\n\r\n      this.saveContent();\r\n    },\r\n\r\n    deleteConfirm() {\r\n      //debugger;\r\n      if (this.selectedItems.length == 0) {\r\n        this.modifyModal = false;\r\n        alert(\"请勾选想要删除的事件！\");\r\n      } else {\r\n        this.$Modal.confirm({\r\n          title: \"确认删除选中内容吗？\",\r\n          onOk: () => {\r\n            this.$Message.info(\"已删除\");\r\n            let selectedIds = this.selectedItems.map((item) => item.id);\r\n            this.allList = this.allList.filter(\r\n              (item) => !selectedIds.includes(item.id)\r\n            );\r\n\r\n            this.saveContent();\r\n          },\r\n          onCancel: () => {\r\n            this.$Message.info(\"取消操作\");\r\n          },\r\n        });\r\n      }\r\n    },\r\n    saveContent() {\r\n      const parsed = JSON.stringify(this.allList);\r\n      localStorage.setItem(\"allList\", parsed);\r\n    },\r\n\r\n    checkContent(content1) {\r\n      this.checkModal = true;\r\n      this.nowContent = content1.content;\r\n    },\r\n    modifyBtn() {\r\n      console.log(this.selectedItems);\r\n      this.nowIndex = this.allList.findIndex(this.findContent);\r\n      if (this.selectedItems.length == 0) {\r\n        this.modifyModal = false;\r\n        alert(\"请勾选想要修改的记录！\");\r\n      } else if (this.selectedItems.length > 1) {\r\n        this.modifyModal = false;\r\n        alert(\"一次只能修改一条记录！\");\r\n      } else {\r\n        this.modifyModal = true;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    if (localStorage.getItem(\"allList\")) {\r\n      try {\r\n        this.allList = JSON.parse(localStorage.getItem(\"allList\"));\r\n      } catch (e) {\r\n        localStorage.removeItem(\"allList\");\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.btns {\r\n  margin: 10px 90px;\r\n}\r\n.tab {\r\n  width: 800px;\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n"]}]}